{% extends 'accounts/base.html' %}

{% block title %}Staff Dashboard - Pawsitive Care{% endblock %}

{% block content %}
<div class="app-shell">
  {# ============== LEFT SIDEBAR ============== #}
  <aside class="app-sidebar glass" aria-label="Primary">
    <div class="sidebar-header">
      <button class="sidebar-toggle" type="button" aria-label="Collapse sidebar">
        <i class="fas fa-bars"></i>
      </button>
      <span class="sidebar-title">Staff</span>
    </div>

    <nav class="sidebar-nav">
      <div class="sidebar-section">
        <div class="sidebar-section-label">Overview</div>
        <a href="{% url 'accounts:staff_dashboard' %}" class="sidebar-link {% if request.resolver_match.url_name == 'staff_dashboard' %}active{% endif %}">
          <i class="fas fa-user-tie"></i><span>Dashboard</span>
        </a>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-label">Appointments</div>
        <a href="{% url 'appointments:create_appointment' %}" class="sidebar-link">
          <i class="fas fa-calendar-plus"></i><span>New Appointment</span>
        </a>
        <a href="{% url 'appointments:staff_calendar' %}" class="sidebar-link">
          <i class="fas fa-calendar-alt"></i><span>Staff Calendar</span>
        </a>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-label">Clients</div>
        <a href="#" class="sidebar-link">
          <i class="fas fa-users"></i><span>Find Client</span>
        </a>
        <a href="#" class="sidebar-link">
          <i class="fas fa-id-card"></i><span>Client Services</span>
        </a>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-label">Reception</div>
        <a href="#" class="sidebar-link">
          <i class="fas fa-headset"></i><span>Reception</span>
        </a>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-label">Billing</div>
        <a href="#" class="sidebar-link">
          <i class="fas fa-cash-register"></i><span>Billing</span>
        </a>
        <a href="{% url 'billing:servicecost_list' %}" class="sidebar-link">
          <i class="fas fa-dollar-sign"></i><span>Service Cost List</span>
        </a>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-label">Inventory</div>
        <a href="{% url 'inventory:dashboard' %}" class="sidebar-link">
          <i class="fas fa-tachometer-alt"></i><span>Inventory Dashboard</span>
        </a>
        <a href="{% url 'inventory:item_create' %}" class="sidebar-link">
          <i class="fas fa-plus"></i><span>Add Item</span>
        </a>
        <a href="{% url 'inventory:item_list' %}" class="sidebar-link">
          <i class="fas fa-boxes"></i><span>All Items</span>
        </a>
        <a href="{% url 'inventory:item_list' %}?low_stock=1" class="sidebar-link">
          <i class="fas fa-triangle-exclamation"></i><span>Low Stock</span>
        </a>
        <a href="{% url 'inventory:reports' %}" class="sidebar-link">
          <i class="fas fa-chart-bar"></i><span>Reports</span>
        </a>
      </div>
    </nav>
  </aside>

  {# ============== MAIN ============== #}
  <main class="app-main">
    <!-- Page header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h2><i class="fas fa-user-tie me-2 themed-icon"></i> Staff Dashboard</h2>
        <p class="text-muted">Manage appointments and client services</p>
      </div>

    </div>

    <!-- Left content + Right sticky rail -->
    <div class="main-grid">
      <!-- LEFT: main content -->
      <section class="main-content">

         <!-- Today's Schedule -->
         <div class="card glass card-olive mb-4">
           <div class="card-header soft-accent-bg">
             <h5 class="m-0"><i class="fas fa-list me-2 themed-icon"></i> Today's Schedule</h5>
           </div>
           <div class="card-body">
             <div class="table-responsive">
               <table class="table table-hover align-middle">
                 <thead>
                   <tr>
                     <th>Time</th>
                     <th>Client</th>
                     <th>Pet</th>
                     <th>Veterinarian</th>
                     <th>Status</th>
                   </tr>
                 </thead>
                 <tbody>
                   <tr>
                     <td><strong>9:00 AM</strong></td>
                     <td>Sarah Johnson</td>
                     <td>Fluffy (Cat)</td>
                     <td>Dr. Smith</td>
                     <td><span class="badge badge-solid">In Progress</span></td>
                   </tr>
                   <tr>
                     <td><strong>10:30 AM</strong></td>
                     <td>Mike Wilson</td>
                     <td>Max (Dog)</td>
                     <td>Dr. Johnson</td>
                     <td><span class="badge badge-outline">Waiting</span></td>
                   </tr>
                   <tr>
                     <td><strong>11:00 AM</strong></td>
                     <td>Emma Davis</td>
                     <td>Bella (Dog)</td>
                     <td>Dr. Smith</td>
                     <td><span class="badge badge-outline">Scheduled</span></td>
                   </tr>
                   <tr>
                     <td><strong>2:00 PM</strong></td>
                     <td>John Smith</td>
                     <td>Charlie (Cat)</td>
                     <td>Dr. Johnson</td>
                     <td><span class="badge badge-outline">Scheduled</span></td>
                   </tr>
                 </tbody>
               </table>
             </div>
           </div>
         </div>

                
        <!-- Quick actions row (cards) -->
        <div class="row">
                    <div class="col-md-6 mb-4">
                      <div class="card glass card-teal h-100">
                        <div class="card-header soft-accent-bg">
                          <h6 class="m-0"><i class="fas fa-chart-line me-2 themed-icon"></i> This Week's Stats</h6>
                        </div>
                        <div class="card-body">
                          <div class="row text-center">
                            <div class="col-4">
                              <h4 class="solid-accent-text">42</h4>
                              <small>Appointments</small>
                            </div>
                            <div class="col-4">
                              <h4 class="solid-accent-text">38</h4>
                              <small>Completed</small>
                            </div>
                            <div class="col-4">
                              <h4 class="solid-accent-text">12</h4>
                              <small>New Clients</small>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

          <div class="col-md-3 mb-4">
            <div class="card glass hover-lift h-100 card-amber">
              <div class="card-body text-center">
                <i class="fas fa-calendar-check fa-2x themed-icon mb-3"></i>
                <h5>Appointments</h5>
                <p class="text-muted">Schedule & manage</p>
                <div class="d-grid gap-2">
                  <a href="{% url 'appointments:create_appointment' %}" class="btn btn-accent btn-sm">
                    <i class="fas fa-plus me-1"></i> New Appointment
                  </a>
                  <a href="{% url 'appointments:staff_calendar' %}" class="btn btn-ghost btn-sm">
                    <i class="fas fa-calendar me-1"></i> View Calendar
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-3 mb-4">
            <div class="card glass hover-lift h-100 card-indigo">
              <div class="card-body text-center">
                <i class="fas fa-users fa-2x themed-icon mb-3"></i>
                <h5>Clients</h5>
                <p class="text-muted">Manage client info</p>
                <a href="#" class="btn btn-accent btn-sm">
                  <i class="fas fa-search me-1"></i> Find Client
                </a>
              </div>
            </div>
          </div>

          <div class="col-md-3 mb-4">
            <div class="card glass hover-lift h-100 card-success">
              <div class="card-body text-center">
                <i class="fas fa-phone fa-2x themed-icon mb-3"></i>
                <h5>Reception</h5>
                <p class="text-muted">Handle calls & walk-ins</p>
                <a href="#" class="btn btn-accent btn-sm">
                  <i class="fas fa-headset me-1"></i> Reception
                </a>
              </div>
            </div>
          </div>

          <div class="col-md-3 mb-4">
            <div class="card glass hover-lift h-100 card-olive">
              <div class="card-body text-center">
                <i class="fas fa-dollar-sign fa-2x themed-icon mb-3"></i>
                <h5>Service Cost</h5>
                <p class="text-muted">Manage Service Cost List</p>
                <a href="{% url 'billing:servicecost_list' %}" class="btn btn-accent btn-sm">
                  <i class="fas fa-list me-1"></i> Open List
                </a>
              </div>
            </div>
          </div>

          <div class="col-md-3 mb-4">
            <div class="card glass hover-lift h-100 card-primary card-sienna">
              <div class="card-body text-center">
                <i class="fas fa-cash-register fa-2x themed-icon mb-3"></i>
                <h5>Billing</h5>
                <p class="text-muted">Process payments</p>
                <a href="#" class="btn btn-accent btn-sm">
                  <i class="fas fa-dollar-sign me-1"></i> Billing
                </a>
              </div>
            </div>
          </div>

          
        </div>

 <div class="row mb-4">
   <div class="col-12">
     <div class="card glass h-100 card-amber">
       <div class="card-header soft-accent-bg">
         <h6 class="mb-0"><i class="fas fa-tasks me-2 themed-icon"></i> Quick Inventory Actions</h6>
       </div>
       <div class="card-body">
         <div class="row g-2">
           <div class="col-md-6">
             <a href="{% url 'inventory:item_create' %}" class="btn btn-accent btn-sm w-100">
               <i class="fas fa-plus me-1"></i> Add New Item
             </a>
           </div>
           <div class="col-md-6">
             <a href="{% url 'inventory:item_list' %}" class="btn btn-ghost btn-sm w-100">
               <i class="fas fa-list me-1"></i> View All Items
             </a>
           </div>
           <div class="col-md-6">
             <a href="{% url 'inventory:item_list' %}?low_stock=1" class="btn btn-ghost btn-sm w-100">
               <i class="fas fa-triangle-exclamation me-1"></i> Low Stock Alert
             </a>
           </div>
           <div class="col-md-6">
             <a href="{% url 'inventory:reports' %}" class="btn btn-ghost btn-sm w-100">
               <i class="fas fa-chart-bar me-1"></i> Reports
             </a>
           </div>
         </div>
       </div>
     </div>
   </div>
 </div>

       

     
      </section>

      <!-- RIGHT: sticky rail -->
      <aside class="right-rail">
        <div class="card glass card-rose">
          <div class="card-header soft-accent-bg">
            <h5 class="m-0"><i class="fas fa-tasks me-2 themed-icon"></i> Daily Tasks</h5>
          </div>
          <div class="card-body">
            <div class="form-check mb-2">
              <input class="form-check-input" type="checkbox" checked>
              <label class="form-check-label">Confirm tomorrow's appointments</label>
            </div>
            <div class="form-check mb-2">
              <input class="form-check-input" type="checkbox">
              <label class="form-check-label">Update client contact info</label>
            </div>
            <div class="form-check mb-2">
              <input class="form-check-input" type="checkbox">
              <label class="form-check-label">Process payment receipts</label>
            </div>
            <div class="form-check mb-2">
              <input class="form-check-input" type="checkbox" checked>
              <label class="form-check-label">Inventory supply check</label>
            </div>
            <div class="form-check mb-2">
              <input class="form-check-input" type="checkbox">
              <label class="form-check-label">File medical records</label>
            </div>
          </div>
        </div>

        <div class="card glass card-indigo mt-3">
          <div class="card-header soft-accent-bg">
            <h5 class="m-0"><i class="fas fa-bell me-2 themed-icon"></i> Notifications</h5>
          </div>
          <div class="card-body">
            <ul class="list-unstyled m-0">
              <li class="mb-2 small"><i class="fas fa-info-circle me-2"></i> New client registration pending</li>
              <li class="mb-2 small"><i class="fas fa-triangle-exclamation me-2"></i> Payment overdue: Invoice #1234</li>
              <li class="small"><i class="fas fa-check-circle me-2"></i> Lab results ready for Fluffy</li>
            </ul>
          </div>
        </div>

        <div class="card glass card-teal mt-3">
          <div class="card-header soft-accent-bg">
            <h6 class="mb-0"><i class="fas fa-boxes me-2 themed-icon"></i> Inventory Overview</h6>
          </div>
          <div class="card-body">
            <div class="row g-2 mb-3 text-center">
              <div class="col-6">
                <i class="fas fa-box fa-2x themed-icon"></i>
                <div class="h5 mb-0 mt-1">
                  {{ inventory_stats.total_items|default:0 }}
                </div>
                <div class="small text-muted">Total Items</div>
              </div>
              <div class="col-6">
                <i class="fas fa-triangle-exclamation fa-2x themed-icon"></i>
                <div class="h5 mb-0 mt-1">
                  {{ inventory_stats.low_stock_items|default:0 }}
                </div>
                <div class="small text-muted">Low Stock</div>
              </div>
            </div>
            <a href="{% url 'inventory:dashboard' %}" class="btn btn-ghost btn-sm w-100">
              <i class="fas fa-tachometer-alt me-1"></i> View Inventory
            </a>
          </div>
          
      </aside>
    </div>
  </main>
</div>
{% endblock %}
